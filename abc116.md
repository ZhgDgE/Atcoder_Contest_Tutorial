## ABC<font color=green>D</font>

---

## Good

## D - Various Sushi

思路：

调整法。

先不考虑 $x\times x$ 贡献，那么就是排序然后选前 $k$ 大的。考虑进行调整。

我们考虑通过将某个大价值物品换为小价值物品的操作，用来增加 $x$ 。首先，从重复种类的物品中选择一个价值最小的，用来给其他物品让位。

- 为什么不能选唯一的？因为选了唯一的替换了的话，种类数量和价值都不会增加，不考虑。

让给谁？

- 不会让给我们已选的某个种类，那样价值不会增加。

因此让出来的一定是新增了一个种类。

写法：用大根堆存下 我们初始方案里没有选到的种类物品，且一个种类只存一个。每次让位给堆顶即可。

AC代码：[https://atcoder.jp/contests/abc116/submissions/58585151](https://atcoder.jp/contests/abc116/submissions/58585151)